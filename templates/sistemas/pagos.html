{% extends 'index.html' %}
{% load static %}

{% block contenido %}
<div class="container">
    <div class="hero">
        <div class="gradient-header">
            <h2>{{ titulo }}</h2>
            <p>Gestiona los pagos de los socios de la corporación</p>
        </div>
    </div>

    <section>
        <div class="colors-grid">
            <div class="feature-card">
                <a href="{% url 'crearpagos' %}" class="card-link">
                    <i class="fas fa-plus"></i>
                    <h3>Nuevo Pago</h3>
                    <p>Registra un nuevo pago en el sistema</p>
                </a>
            </div>
        </div>
    </section>

    {% if pagos %}
        <section>
            <h2>Lista de Pagos</h2>
            <div class="colors-grid">
                {% for pago in pagos %}
                <div class="feature-card">
                    <i class="fas fa-money-bill-wave"></i>
                    <h3>Pago #{{ pago.id_pago }}</h3>
                    <p><strong>Socio:</strong> {{ pago.socio.nombre }}</p>
                    <p><strong>Monto:</strong> ${{ pago.monto|floatformat:0 }}</p>
                    <p><strong>Fecha:</strong> {{ pago.fecha_pago|date:"d/m/Y" }}</p>
                    <div class="form-group">
                        <a href="{% url 'editarpagos' pago.id_pago %}" 
                            style="background: #3498db; color: white; padding: 0.5rem; border-radius: 4px; text-decoration: none; margin-right: 0.5rem; display: inline-block;">
                            <i class="fas fa-edit"></i>
                        </a>
                        <a href="{% url 'eliminarpagos' pago.id_pago %}" 
                            style="background: #e74c3c; color: white; padding: 0.5rem; border-radius: 4px; text-decoration: none; display: inline-block;"
                            onclick="return confirm('¿Estás seguro de que deseas eliminar este pago?')">
                            <i class="fas fa-trash-alt"></i>
                        </a>
                    </div>
                </div>
                {% endfor %}
            </div>
        </section>
    {% else %}
        <section>
            <h2>No hay pagos registrados</h2>
            <p>Comienza agregando el primer pago al sistema</p>
            <div class="colors-grid">
                <div class="feature-card">
                    <a href="{% url 'crearpagos' %}" class="card-link">
                        <i class="fas fa-money-bill-wave"></i>
                        <h3>Crear Primer Pago</h3>
                        <p>Registra el primer pago en el sistema</p>
                    </a>
                </div>
            </div>
        </section>
    {% endif %}
</div>
{% endblock contenido %}
